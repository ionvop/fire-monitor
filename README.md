# fire-monitor

This project is an **AI-powered Fire Extinguishing Turret system**. It uses an ESP32-CAM for vision, a second ESP32 to control pan/tilt servos and a firing mechanism, and a Python-based YOLO (You Only Look Once) controller to automate fire detection and engagement.

---

## ðŸ—ï¸ System Architecture

The project is divided into three main components:

1. **Arduino (Firmware):**
    * **Camera:** An ESP32-CAM (AI Thinker) that streams live video over HTTP.
    * **Servo:** An ESP32 that controls two servos (Pan/Tilt) and two digital pins for a firing/retracting mechanism. It also runs a web server to receive movement and firing commands.


2. **Controller (AI Brain):** A Python script running YOLOv8. It processes the camera stream, detects fire, and sends logic commands to the Servo controller.
3. **Dashboard (Manual Control):** A web-based interface to view the live stream and manually control the turret's movement and firing.

---

## ðŸ“‚ Project Structure

```text
â”œâ”€â”€ arduino/
â”‚   â”œâ”€â”€ camera/             # ESP32-CAM firmware
â”‚   â”œâ”€â”€ servo/              # Servo & Firing mechanism firmware
â”‚   â””â”€â”€ config-template.h   # WiFi credentials template
â”œâ”€â”€ controller/
â”‚   â”œâ”€â”€ main.py             # YOLOv8 detection & logic loop
â”‚   â”œâ”€â”€ requirements.txt    # Python dependencies
â”‚   â””â”€â”€ config-template.py  # IP configuration template
â””â”€â”€ dashboard/
    â”œâ”€â”€ index.html          # Web UI
    â””â”€â”€ config-template.js  # IP configuration template

```

---

## ðŸš€ Getting Started

### 1. Hardware Setup

* **Camera:** ESP32-CAM (AI-Thinker).
* **Servo Controller:** ESP32.
* **Servos:** 2x Servos connected to Pins 12 (Y) and 13 (X).
* **Trigger:** Relays or MOSFETs connected to Pins 26 (Fire) and 27 (Retract).

### 2. Firmware Installation (Arduino)

1. Navigate to the `arduino/` folder.
2. Rename `config-template.h` to `config.h` and enter your WiFi SSID and Password.
3. **Camera:** Open `arduino/camera/camera.ino`, select the **AI Thinker ESP32-CAM** board, and upload.
4. **Servo:** Open `arduino/servo/servo.ino`, select your ESP32 board, and upload.
* *Note:* You will need the `ESP32Servo` library installed in your Arduino IDE.



### 3. AI Controller Setup (Python)

1. Navigate to the `controller/` folder.
2. Install dependencies:
```bash
pip install -r requirements.txt

```


3. Rename `config-template.py` to `config.py` and enter the IP addresses assigned to your ESP32s.
4. Place your YOLO model weights file as `best.pt` in the `controller/` directory.
5. Run the controller:
```bash
python main.py

```



### 4. Dashboard Setup

1. Navigate to the `dashboard/` folder.
2. Rename `config-template.js` to `config.js` and enter the IP addresses of your ESP32s.
3. Open `index.html` in any modern web browser to view the stream and control the turret manually.

---

## ðŸ› ï¸ Configuration & API

### Servo HTTP Endpoints

The Servo ESP32 exposes the following endpoints for integration:

| Endpoint | Parameters | Description |
| --- | --- | --- |
| `/surveillance` | `cmd=start/stop` | Toggles automatic scanning movement. |
| `/trigger` | `cmd=start/stop` | Activates `fire()` or `retract()` functions. |
| `/control` | `direction=up/down/left/right`, `cmd=start/stop` | Manual movement controls. |

### YOLO Logic

In `main.py`, the system is configured to detect **Class 0** (which should be 'fire' in this case).

* **Tracking:** It checks if fire is within a specific center tolerance of the frame.
* **Automation:** If fire is centered and detected with >50% confidence, it sends a `fire` command to the turret.

---

### Disclaimer

This documentation was generated by Gemini but the entire codebase was written by hand.